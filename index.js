import{a as w,i,S as P}from"./assets/vendor-koyFXKdT.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const S="48840167-f96030b4e497eb15a171d5d1f",q="https://pixabay.com/api/",v=40;async function p(t,e=1){try{return(await w.get(q,{params:{key:S,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:v,page:e}})).data}catch(a){return console.error("Error fetching data from Pixabay:",a),{hits:[],totalHits:0}}}function b(t,e=!1){const a=document.querySelector(".gallery");if(e&&(a.innerHTML=""),t.length===0){i.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"});return}const s=document.createDocumentFragment();t.forEach(o=>{const n=C(o);s.appendChild(n)}),a.appendChild(s),new P(".gallery a").refresh(),e||_()}function C(t){const{webformatURL:e,largeImageURL:a,tags:s,likes:r,views:o,comments:n,downloads:E}=t,c=document.createElement("div");c.classList.add("gallery__item");const d=document.createElement("a");d.href=a,d.setAttribute("data-lightbox","gallery");const g=document.createElement("img");g.src=e,g.alt=s,d.appendChild(g),c.appendChild(d);const h=document.createElement("div");return h.classList.add("info"),h.innerHTML=`
    <p class="info-item"><b>Likes:</b> ${r}</p>
    <p class="info-item"><b>Views:</b> ${o}</p>
    <p class="info-item"><b>Comments:</b> ${n}</p>
    <p class="info-item"><b>Downloads:</b> ${E}</p>
  `,c.appendChild(h),c}function m(t){const e=document.querySelector(".loader");e&&(e.style.display=t?"block":"none")}function u(t){const e=document.querySelector("#load-more");e&&e.classList.toggle("hidden",!t)}function _(){const t=document.querySelector(".gallery__item");if(t){const e=t.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}}let f="",l=1;const L=40;let y=0;const x=document.querySelector("#search-form"),R=document.querySelector("#load-more");x.addEventListener("submit",async t=>{if(t.preventDefault(),f=document.querySelector("#search-query").value.trim(),f===""){i.error({title:"Error",message:"Please enter a search query!"});return}l=1,m(!0),u(!1);try{const e=await p(f,l);y=e.totalHits,b(e.hits,!0),e.hits.length>0&&l*L<y?u(!0):(u(!1),i.info({title:"End of Results",message:"We're sorry, but you've reached the end of search results."}))}catch{i.error({title:"Error",message:"Something went wrong. Please try again later."})}finally{m(!1)}});R.addEventListener("click",async()=>{l++,m(!0);try{const t=await p(f,l);b(t.hits,!1),l*L>=y&&(u(!1),i.info({title:"End of Results",message:"We're sorry, but you've reached the end of search results."}))}catch{i.error({title:"Error",message:"Something went wrong. Please try again later."})}finally{m(!1)}});
//# sourceMappingURL=index.js.map
